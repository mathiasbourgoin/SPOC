<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sarek_typer (sarek.Sarek_ppx_lib.Sarek_typer)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">sarek</a> &#x00BB; <a href="../index.html">Sarek_ppx_lib</a> &#x00BB; Sarek_typer</nav><header class="odoc-preamble"><h1>Module <code><span>Sarek_ppx_lib.Sarek_typer</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#type-unification-with-error-reporting">Type Unification with Error Reporting</a></li><li><a href="#type-validators">Type Validators</a></li><li><a href="#type-inference-helpers">Type Inference Helpers</a></li></ul></nav></div><div class="odoc-content"><h2 id="type-unification-with-error-reporting"><a href="#type-unification-with-error-reporting" class="anchor"></a>Type Unification with Error Reporting</h2><div class="odoc-spec"><div class="spec value anchored" id="val-unify_or_error"><a href="#val-unify_or_error" class="anchor"></a><code><span><span class="keyword">val</span> unify_or_error : 
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Unify two types and convert unification errors to typed errors with location</p></div></div><h2 id="type-validators"><a href="#type-validators" class="anchor"></a>Type Validators</h2><p>Result-returning validators for type checking with error messages.</p><p>These functions validate types and return detailed error messages on failure. For simple boolean checks without errors, use predicates from <code>Sarek_types</code>:</p><ul><li><code>Sarek_types.is_numeric</code></li><li><code>Sarek_types.is_integer</code></li><li><code>Sarek_types.is_boolean</code></li><li><code>Sarek_types.is_float</code></li><li><code>Sarek_types.is_tvar</code></li></ul><div class="odoc-spec"><div class="spec value anchored" id="val-check_numeric"><a href="#val-check_numeric" class="anchor"></a><code><span><span class="keyword">val</span> check_numeric : 
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Check that a type is numeric (int32, int64, float32, float64).</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">t</span> <p>The type to check</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">loc</span> <p>Source location for error reporting</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>Ok () if numeric, Error with type mismatch otherwise</p></li></ul><p>See also: <a href="../Sarek_types/index.html#val-is_numeric"><code>Sarek_types.is_numeric</code></a> for bool predicate version.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check_integer"><a href="#val-check_integer" class="anchor"></a><code><span><span class="keyword">val</span> check_integer : 
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Check that a type is integer (int32, int64, int).</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">t</span> <p>The type to check</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">loc</span> <p>Source location for error reporting</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>Ok () if integer, Error with type mismatch otherwise</p></li></ul><p>See also: <a href="../Sarek_types/index.html#val-is_integer"><code>Sarek_types.is_integer</code></a> for bool predicate version.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check_boolean"><a href="#val-check_boolean" class="anchor"></a><code><span><span class="keyword">val</span> check_boolean : 
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Check that a type is boolean.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">t</span> <p>The type to check</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">loc</span> <p>Source location for error reporting</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>Ok () if boolean, Error with type mismatch otherwise</p></li></ul><p>See also: <a href="../Sarek_types/index.html#val-is_boolean"><code>Sarek_types.is_boolean</code></a> for bool predicate version.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-TvarCtx"><a href="#module-TvarCtx" class="anchor"></a><code><span><span class="keyword">module</span> <a href="TvarCtx/index.html">TvarCtx</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Type variable context for tracking named type variables like 'a, 'b</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tvar_ctx"><a href="#type-tvar_ctx" class="anchor"></a><code><span><span class="keyword">type</span> tvar_ctx</span><span> = </span><span>{</span></code><ol><li id="type-tvar_ctx.tvars" class="def record field anchored"><a href="#type-tvar_ctx.tvars" class="anchor"></a><code><span>tvars : <span><span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <a href="TvarCtx/index.html#type-t">TvarCtx.t</a></span> <span class="xref-unresolved">Stdlib</span>.ref</span>;</span></code></li><li id="type-tvar_ctx.level" class="def record field anchored"><a href="#type-tvar_ctx.level" class="anchor"></a><code><span>level : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Level at which to create new type variables</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fresh_tvar_ctx"><a href="#val-fresh_tvar_ctx" class="anchor"></a><code><span><span class="keyword">val</span> fresh_tvar_ctx : <span><span class="optlabel">?level</span>:int <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-tvar_ctx">tvar_ctx</a></span></code></div><div class="spec-doc"><p>Create a fresh type variable context at a given level</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_of_type_expr_ctx"><a href="#val-type_of_type_expr_ctx" class="anchor"></a><code><span><span class="keyword">val</span> type_of_type_expr_ctx : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-tvar_ctx">tvar_ctx</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-type_expr">Sarek_ast.type_expr</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a></span></code></div><div class="spec-doc"><p>Convert a parsed type expression using the current typing environment and a type variable context for polymorphic type variables</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-type_of_type_expr_env"><a href="#val-type_of_type_expr_env" class="anchor"></a><code><span><span class="keyword">val</span> type_of_type_expr_env : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-type_expr">Sarek_ast.type_expr</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a></span></code></div><div class="spec-doc"><p>Convert a parsed type expression using the current typing environment. Creates fresh type variables for each TEVar - use type_of_type_expr_ctx when type variable names need to be preserved across multiple types.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_binop"><a href="#val-infer_binop" class="anchor"></a><code><span><span class="keyword">val</span> infer_binop : 
  <span><a href="../Sarek_ast/index.html#type-binop">Sarek_ast.binop</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Infer type of a binary operation</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_unop"><a href="#val-infer_unop" class="anchor"></a><code><span><span class="keyword">val</span> infer_unop : 
  <span><a href="../Sarek_ast/index.html#type-unop">Sarek_ast.unop</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Infer type of a unary operation</p></div></div><h2 id="type-inference-helpers"><a href="#type-inference-helpers" class="anchor"></a>Type Inference Helpers</h2><p>These helpers partition the main <code>infer</code> function by expression category.</p><div class="odoc-spec"><div class="spec value anchored" id="val-infer_literal"><a href="#val-infer_literal" class="anchor"></a><code><span><span class="keyword">val</span> infer_literal : 
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of literal expressions (unit, bool, int, float constants).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_binop_unop"><a href="#val-infer_binop_unop" class="anchor"></a><code><span><span class="keyword">val</span> infer_binop_unop : 
  <span><span class="label">infer</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of binary and unary operations (arithmetic, logical, bitwise).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_memory_access"><a href="#val-infer_memory_access" class="anchor"></a><code><span><span class="keyword">val</span> infer_memory_access : 
  <span><span class="label">infer</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of memory access operations (vectors, arrays, record fields). Handles field resolution for both known and external record types.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_control_flow"><a href="#val-infer_control_flow" class="anchor"></a><code><span><span class="keyword">val</span> infer_control_flow : 
  <span><span class="label">infer</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of control flow expressions (if, for, while, sequence). Ensures loop bounds are int32 and conditions are boolean.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_data_structure"><a href="#val-infer_data_structure" class="anchor"></a><code><span><span class="keyword">val</span> infer_data_structure : 
  <span><span class="label">infer</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">infer_record_fields</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span><span>(string * <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<span><span>(string * <a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a>)</span> list</span> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>,
        <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">infer_list</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> list</span> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<span><a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> list</span> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of data structures (records, variants, tuples, arrays). Uses mutual recursion helpers for complex nested structures.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_special"><a href="#val-infer_special" class="anchor"></a><code><span><span class="keyword">val</span> infer_special : 
  <span><span class="label">infer</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of special expressions (global refs, native blocks, pragmas, type annotations, open). These handle meta-level constructs and environment manipulation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_let_binding"><a href="#val-infer_let_binding" class="anchor"></a><code><span><span class="keyword">val</span> infer_let_binding : 
  <span><span class="label">infer</span>:
    <span>(<span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
      <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
      <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Infer type of let bindings (assign, let, let mut, let rec). Handles mutability constraints and recursive binding generalization.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer"><a href="#val-infer" class="anchor"></a><code><span><span class="keyword">val</span> infer : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>)</span> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Main type inference function</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_list"><a href="#val-infer_list" class="anchor"></a><code><span><span class="keyword">val</span> infer_list : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> list</span> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unify_args"><a href="#val-unify_args" class="anchor"></a><code><span><span class="keyword">val</span> unify_args : 
  <span><span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(unit, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_record_fields"><a href="#val-infer_record_fields" class="anchor"></a><code><span><span class="keyword">val</span> infer_record_fields : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(string * <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(string * <a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a>)</span> list</span> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_match_cases"><a href="#val-infer_match_cases" class="anchor"></a><code><span><span class="keyword">val</span> infer_match_cases : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Sarek_ast/index.html#type-pattern">Sarek_ast.pattern</a> * <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<a href="../Sarek_typed_ast/index.html#type-tpattern">Sarek_typed_ast.tpattern</a> * <a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a>)</span> list</span>
   * <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a>
   * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>,
    <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_remaining_cases"><a href="#val-infer_remaining_cases" class="anchor"></a><code><span><span class="keyword">val</span> infer_remaining_cases : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<a href="../Sarek_ast/index.html#type-pattern">Sarek_ast.pattern</a> * <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<a href="../Sarek_typed_ast/index.html#type-tpattern">Sarek_typed_ast.tpattern</a> * <a href="../Sarek_typed_ast/index.html#type-texpr">Sarek_typed_ast.texpr</a>)</span> list</span>,
    <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_pattern"><a href="#val-infer_pattern" class="anchor"></a><code><span><span class="keyword">val</span> infer_pattern : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-pattern">Sarek_ast.pattern</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Sarek_typed_ast/index.html#type-tpattern">Sarek_typed_ast.tpattern</a> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_patterns"><a href="#val-infer_patterns" class="anchor"></a><code><span><span class="keyword">val</span> infer_patterns : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../Sarek_ast/index.html#type-pattern">Sarek_ast.pattern</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../Sarek_typed_ast/index.html#type-tpattern">Sarek_typed_ast.tpattern</a> list</span> * <a href="../Sarek_env/index.html#type-t">Sarek_env.t</a>, <span><a href="../Sarek_error/index.html#type-error">Sarek_error.error</a> list</span>)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_intrinsic_fun"><a href="#val-is_intrinsic_fun" class="anchor"></a><code><span><span class="keyword">val</span> is_intrinsic_fun : <span><a href="../Sarek_env/StringMap/index.html#type-key">Sarek_env.StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if a name is an intrinsic function in the environment</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_kernel"><a href="#val-infer_kernel" class="anchor"></a><code><span><span class="keyword">val</span> infer_kernel : 
  <span><a href="../Sarek_env/index.html#type-t">Sarek_env.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_ast/index.html#type-kernel">Sarek_ast.kernel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sarek_typed_ast/index.html#type-tkernel">Sarek_typed_ast.tkernel</a> <a href="../Sarek_error/index.html#type-result">Sarek_error.result</a></span></span></code></div><div class="spec-doc"><p>Type a complete kernel</p></div></div></div></body></html>
