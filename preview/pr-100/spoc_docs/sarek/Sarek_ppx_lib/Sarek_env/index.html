<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sarek_env (sarek.Sarek_ppx_lib.Sarek_env)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">sarek</a> &#x00BB; <a href="../index.html">Sarek_ppx_lib</a> &#x00BB; Sarek_env</nav><header class="odoc-preamble"><h1>Module <code><span>Sarek_ppx_lib.Sarek_env</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-StringMap"><a href="#module-StringMap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="StringMap/index.html">StringMap</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-var_info"><a href="#type-var_info" class="anchor"></a><code><span><span class="keyword">type</span> var_info</span><span> = </span><span>{</span></code><ol><li id="type-var_info.vi_type" class="def record field anchored"><a href="#type-var_info.vi_type" class="anchor"></a><code><span>vi_type : <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a>;</span></code></li><li id="type-var_info.vi_mutable" class="def record field anchored"><a href="#type-var_info.vi_mutable" class="anchor"></a><code><span>vi_mutable : bool;</span></code></li><li id="type-var_info.vi_is_param" class="def record field anchored"><a href="#type-var_info.vi_is_param" class="anchor"></a><code><span>vi_is_param : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Kernel parameter?</p><span class="comment-delim">*)</span></div></li><li id="type-var_info.vi_index" class="def record field anchored"><a href="#type-var_info.vi_index" class="anchor"></a><code><span>vi_index : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>For parameter ordering</p><span class="comment-delim">*)</span></div></li><li id="type-var_info.vi_is_vec" class="def record field anchored"><a href="#type-var_info.vi_is_vec" class="anchor"></a><code><span>vi_is_vec : bool;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Is this a vector parameter?</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Information about a variable</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-intrinsic_ref"><a href="#type-intrinsic_ref" class="anchor"></a><code><span><span class="keyword">type</span> intrinsic_ref</span><span> = </span></code><ol><li id="type-intrinsic_ref.IntrinsicRef" class="def variant constructor anchored"><a href="#type-intrinsic_ref.IntrinsicRef" class="anchor"></a><code><span>| </span><span><span class="constructor">IntrinsicRef</span> <span class="keyword">of</span> <span>string list</span> * string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>module_path, function_name</p><span class="comment-delim">*)</span></div></li><li id="type-intrinsic_ref.CorePrimitiveRef" class="def variant constructor anchored"><a href="#type-intrinsic_ref.CorePrimitiveRef" class="anchor"></a><code><span>| </span><span><span class="constructor">CorePrimitiveRef</span> <span class="keyword">of</span> string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Core primitive name</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>Reference to an intrinsic function or constant.</p><ul><li>IntrinsicRef: Reference to a stdlib module intrinsic. The module path allows the PPX to generate correct references for compile-time type checking. For example:</li><li>IntrinsicRef (<code>&quot;Sarek_stdlib&quot;; &quot;Float32&quot;</code>, &quot;sin&quot;) -&gt; Sarek_stdlib.Float32.sin</li><li>IntrinsicRef (<code>&quot;Sarek_stdlib&quot;; &quot;Int32&quot;</code>, &quot;add_int32&quot;) -&gt; Sarek_stdlib.Int32.add_int32</li></ul><ul><li>CorePrimitiveRef: Reference to a core GPU primitive defined in Sarek_core_primitives. These have compile-time semantic properties (variance, convergence, purity) that cannot be overridden by user code. Device implementations are still resolved via Sarek_registry at JIT time.</li></ul><p>This enables extensibility: user libraries can define their own intrinsics via %sarek_intrinsic and the PPX will reference them correctly.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-intrinsic_ref_name"><a href="#val-intrinsic_ref_name" class="anchor"></a><code><span><span class="keyword">val</span> intrinsic_ref_name : <span><a href="#type-intrinsic_ref">intrinsic_ref</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get the qualified name of an intrinsic ref for debugging/printing</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-intrinsic_ref_display_name"><a href="#val-intrinsic_ref_display_name" class="anchor"></a><code><span><span class="keyword">val</span> intrinsic_ref_display_name : <span><a href="#type-intrinsic_ref">intrinsic_ref</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get user-friendly display name for error messages (no core prefix)</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-intrinsic_fun_info"><a href="#type-intrinsic_fun_info" class="anchor"></a><code><span><span class="keyword">type</span> intrinsic_fun_info</span><span> = </span><span>{</span></code><ol><li id="type-intrinsic_fun_info.intr_type" class="def record field anchored"><a href="#type-intrinsic_fun_info.intr_type" class="anchor"></a><code><span>intr_type : <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a>;</span></code></li><li id="type-intrinsic_fun_info.intr_ref" class="def record field anchored"><a href="#type-intrinsic_fun_info.intr_ref" class="anchor"></a><code><span>intr_ref : <a href="#type-intrinsic_ref">intrinsic_ref</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Reference to stdlib module function</p><span class="comment-delim">*)</span></div></li><li id="type-intrinsic_fun_info.intr_convergence" class="def record field anchored"><a href="#type-intrinsic_fun_info.intr_convergence" class="anchor"></a><code><span>intr_convergence : <span><a href="../Sarek_core_primitives/index.html#type-convergence">Sarek_core_primitives.convergence</a> option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Convergence requirement. None means NoEffect. User libraries can specify ConvergencePoint or WarpConvergence.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Information about an intrinsic function. Device code is resolved at JIT time via Sarek_registry.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-intrinsic_const_info"><a href="#type-intrinsic_const_info" class="anchor"></a><code><span><span class="keyword">type</span> intrinsic_const_info</span><span> = </span><span>{</span></code><ol><li id="type-intrinsic_const_info.const_type" class="def record field anchored"><a href="#type-intrinsic_const_info.const_type" class="anchor"></a><code><span>const_type : <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a>;</span></code></li><li id="type-intrinsic_const_info.const_ref" class="def record field anchored"><a href="#type-intrinsic_const_info.const_ref" class="anchor"></a><code><span>const_ref : <a href="#type-intrinsic_ref">intrinsic_ref</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Reference to intrinsic constant</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Information about an intrinsic constant. Device code is resolved at JIT time via Sarek_registry.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-type_info"><a href="#type-type_info" class="anchor"></a><code><span><span class="keyword">type</span> type_info</span><span> = </span></code><ol><li id="type-type_info.TIRecord" class="def variant constructor anchored"><a href="#type-type_info.TIRecord" class="anchor"></a><code><span>| </span><span><span class="constructor">TIRecord</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-type_info.ti_name" class="def record field anchored"><a href="#type-type_info.ti_name" class="anchor"></a><code><span>ti_name : string;</span></code></li><li id="type-type_info.ti_fields" class="def record field anchored"><a href="#type-type_info.ti_fields" class="anchor"></a><code><span>ti_fields : <span><span>(string * <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> * bool)</span> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>name, type, mutable</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></li><li id="type-type_info.TIVariant" class="def variant constructor anchored"><a href="#type-type_info.TIVariant" class="anchor"></a><code><span>| </span><span><span class="constructor">TIVariant</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-type_info.ti_name" class="def record field anchored"><a href="#type-type_info.ti_name" class="anchor"></a><code><span>ti_name : string;</span></code></li><li id="type-type_info.ti_constrs" class="def record field anchored"><a href="#type-type_info.ti_constrs" class="anchor"></a><code><span>ti_constrs : <span><span>(string * <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> option</span>)</span> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>constructor name, optional arg type</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></li></ol></div><div class="spec-doc"><p>Information about a custom type</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><ol><li id="type-t.vars" class="def record field anchored"><a href="#type-t.vars" class="anchor"></a><code><span>vars : <span><a href="#type-var_info">var_info</a> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code></li><li id="type-t.types" class="def record field anchored"><a href="#type-t.types" class="anchor"></a><code><span>types : <span><a href="#type-type_info">type_info</a> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code></li><li id="type-t.intrinsic_funs" class="def record field anchored"><a href="#type-t.intrinsic_funs" class="anchor"></a><code><span>intrinsic_funs : <span><a href="#type-intrinsic_fun_info">intrinsic_fun_info</a> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code></li><li id="type-t.intrinsic_consts" class="def record field anchored"><a href="#type-t.intrinsic_consts" class="anchor"></a><code><span>intrinsic_consts : <span><a href="#type-intrinsic_const_info">intrinsic_const_info</a> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code></li><li id="type-t.constructors" class="def record field anchored"><a href="#type-t.constructors" class="anchor"></a><code><span>constructors : <span><span>(string * <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> option</span>)</span> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>constr -&gt; (type_name, arg_type)</p><span class="comment-delim">*)</span></div></li><li id="type-t.fields" class="def record field anchored"><a href="#type-t.fields" class="anchor"></a><code><span>fields : <span><span>(string * int * <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> * bool)</span> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>field -&gt; (type_name, index, type, mutable)</p><span class="comment-delim">*)</span></div></li><li id="type-t.current_level" class="def record field anchored"><a href="#type-t.current_level" class="anchor"></a><code><span>current_level : int;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>For let-polymorphism</p><span class="comment-delim">*)</span></div></li><li id="type-t.local_funs" class="def record field anchored"><a href="#type-t.local_funs" class="anchor"></a><code><span>local_funs : <span><span>(string * <a href="../Sarek_scheme/index.html#type-scheme">Sarek_scheme.scheme</a>)</span> <a href="StringMap/index.html#type-t">StringMap.t</a></span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Local function definitions with polymorphic schemes</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>The typing environment - immutable</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Empty environment</p></div></div><p>Environment operations - all return new environments</p><div class="odoc-spec"><div class="spec value anchored" id="val-add_var"><a href="#val-add_var" class="anchor"></a><code><span><span class="keyword">val</span> add_var : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var_info">var_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_type"><a href="#val-add_type" class="anchor"></a><code><span><span class="keyword">val</span> add_type : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-type_info">type_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_intrinsic_fun"><a href="#val-add_intrinsic_fun" class="anchor"></a><code><span><span class="keyword">val</span> add_intrinsic_fun : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-intrinsic_fun_info">intrinsic_fun_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_intrinsic_const"><a href="#val-add_intrinsic_const" class="anchor"></a><code><span><span class="keyword">val</span> add_intrinsic_const : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-intrinsic_const_info">intrinsic_const_info</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_local_fun"><a href="#val-add_local_fun" class="anchor"></a><code><span><span class="keyword">val</span> add_local_fun : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sarek_scheme/index.html#type-scheme">Sarek_scheme.scheme</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_var"><a href="#val-find_var" class="anchor"></a><code><span><span class="keyword">val</span> find_var : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-var_info">var_info</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_type"><a href="#val-find_type" class="anchor"></a><code><span><span class="keyword">val</span> find_type : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-type_info">type_info</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_intrinsic_fun"><a href="#val-find_intrinsic_fun" class="anchor"></a><code><span><span class="keyword">val</span> find_intrinsic_fun : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-intrinsic_fun_info">intrinsic_fun_info</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_intrinsic_const"><a href="#val-find_intrinsic_const" class="anchor"></a><code><span><span class="keyword">val</span> find_intrinsic_const : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-intrinsic_const_info">intrinsic_const_info</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_constructor"><a href="#val-find_constructor" class="anchor"></a><code><span><span class="keyword">val</span> find_constructor : 
  <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> option</span>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_field"><a href="#val-find_field" class="anchor"></a><code><span><span class="keyword">val</span> find_field : 
  <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * int * <a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> * bool)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_local_fun"><a href="#val-find_local_fun" class="anchor"></a><code><span><span class="keyword">val</span> find_local_fun : 
  <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <a href="../Sarek_scheme/index.html#type-scheme">Sarek_scheme.scheme</a>)</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-enter_level"><a href="#val-enter_level" class="anchor"></a><code><span><span class="keyword">val</span> enter_level : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Scope management</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exit_level"><a href="#val-exit_level" class="anchor"></a><code><span><span class="keyword">val</span> exit_level : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-short_module_name"><a href="#val-short_module_name" class="anchor"></a><code><span><span class="keyword">val</span> short_module_name : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get the short module name from a module path. E.g., <code>&quot;Sarek_stdlib&quot;; &quot;Float32&quot;</code> -&gt; &quot;Float32&quot;</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-open_module"><a href="#val-open_module" class="anchor"></a><code><span><span class="keyword">val</span> open_module : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Open a module: bring its bindings into scope under short names. E.g., open_module <code>&quot;Float32&quot;</code> brings Float32.sin -&gt; sin</p><p>Also handles legacy aliases:</p><ul><li>Std -&gt; Gpu (backward compatibility)</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_stdlib"><a href="#val-with_stdlib" class="anchor"></a><code><span><span class="keyword">val</span> with_stdlib : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create standard library environment from core primitives and the PPX registry.</p><p>Step 1: Add all core primitives from Sarek_core_primitives. These have compile-time semantic properties (variance, convergence, purity) that the PPX uses for analysis. Core primitives use CorePrimitiveRef.</p><p>Step 2: Add library intrinsics from Sarek_ppx_registry. These may shadow core primitives if they have the same name (which provides device implementations). Library intrinsics use IntrinsicRef.</p><p>Intrinsics are registered under module-qualified names (e.g., &quot;Float32.sin&quot;) to avoid ambiguity between Float32.sqrt and Float64.sqrt. Use `open_module` to bring a module's bindings into scope under short names.</p><p>IMPORTANT: The caller must ensure stdlib modules are initialized before calling this function (e.g., via Sarek_stdlib.force_init()). This is done in Sarek_ppx.ml to avoid circular dependencies.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-lookup_result"><a href="#type-lookup_result" class="anchor"></a><code><span><span class="keyword">type</span> lookup_result</span><span> = </span></code><ol><li id="type-lookup_result.LVar" class="def variant constructor anchored"><a href="#type-lookup_result.LVar" class="anchor"></a><code><span>| </span><span><span class="constructor">LVar</span> <span class="keyword">of</span> <a href="#type-var_info">var_info</a></span></code></li><li id="type-lookup_result.LIntrinsicConst" class="def variant constructor anchored"><a href="#type-lookup_result.LIntrinsicConst" class="anchor"></a><code><span>| </span><span><span class="constructor">LIntrinsicConst</span> <span class="keyword">of</span> <a href="#type-intrinsic_const_info">intrinsic_const_info</a></span></code></li><li id="type-lookup_result.LIntrinsicFun" class="def variant constructor anchored"><a href="#type-lookup_result.LIntrinsicFun" class="anchor"></a><code><span>| </span><span><span class="constructor">LIntrinsicFun</span> <span class="keyword">of</span> <a href="#type-intrinsic_fun_info">intrinsic_fun_info</a></span></code></li><li id="type-lookup_result.LConstructor" class="def variant constructor anchored"><a href="#type-lookup_result.LConstructor" class="anchor"></a><code><span>| </span><span><span class="constructor">LConstructor</span> <span class="keyword">of</span> string * <span><a href="../Sarek_types/index.html#type-typ">Sarek_types.typ</a> option</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>type_name, arg_type</p><span class="comment-delim">*)</span></div></li><li id="type-lookup_result.LLocalFun" class="def variant constructor anchored"><a href="#type-lookup_result.LLocalFun" class="anchor"></a><code><span>| </span><span><span class="constructor">LLocalFun</span> <span class="keyword">of</span> string * <a href="../Sarek_scheme/index.html#type-scheme">Sarek_scheme.scheme</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>name and type scheme (for polymorphism)</p><span class="comment-delim">*)</span></div></li><li id="type-lookup_result.LNotFound" class="def variant constructor anchored"><a href="#type-lookup_result.LNotFound" class="anchor"></a><code><span>| </span><span><span class="constructor">LNotFound</span></span></code></li></ol></div><div class="spec-doc"><p>Lookup that checks all namespaces for an identifier</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lookup"><a href="#val-lookup" class="anchor"></a><code><span><span class="keyword">val</span> lookup : <span><a href="StringMap/index.html#type-key">StringMap.key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-lookup_result">lookup_result</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_env"><a href="#val-pp_env" class="anchor"></a><code><span><span class="keyword">val</span> pp_env : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Debug: print environment contents</p></div></div></div></body></html>
