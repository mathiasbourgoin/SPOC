<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sarek_parse (sarek.Sarek_ppx_lib.Sarek_parse)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">sarek</a> &#x00BB; <a href="../index.html">Sarek_ppx_lib</a> &#x00BB; Sarek_parse</nav><header class="odoc-preamble"><h1>Module <code><span>Sarek_ppx_lib.Sarek_parse</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-loc_of_ppxlib"><a href="#val-loc_of_ppxlib" class="anchor"></a><code><span><span class="keyword">val</span> loc_of_ppxlib : <span><span class="xref-unresolved">Ppxlib</span>.Location.t <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a></span></code></div><div class="spec-doc"><p>Convert ppxlib location to Sarek location</p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Parse_error_exn"><a href="#exception-Parse_error_exn" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Parse_error_exn</span> <span class="keyword">of</span> string * <span class="xref-unresolved">Ppxlib</span>.Location.t</span></code></div><div class="spec-doc"><p>Parse exception</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-loc_to_sloc"><a href="#val-loc_to_sloc" class="anchor"></a><code><span><span class="keyword">val</span> loc_to_sloc : <span><span class="xref-unresolved">Ppxlib</span>.Location.t <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-loc">Sarek_ast.loc</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_type"><a href="#val-parse_type" class="anchor"></a><code><span><span class="keyword">val</span> parse_type : <span><span class="xref-unresolved">Ppxlib</span>.core_type <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-type_expr">Sarek_ast.type_expr</a></span></code></div><div class="spec-doc"><p>Parse a core_type to type_expr</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_record_fields"><a href="#val-parse_record_fields" class="anchor"></a><code><span><span class="keyword">val</span> parse_record_fields : 
  <span><span><span class="xref-unresolved">Ppxlib</span>.label_declaration list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * bool * <a href="../Sarek_ast/index.html#type-type_expr">Sarek_ast.type_expr</a>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_variant_constructors"><a href="#val-parse_variant_constructors" class="anchor"></a><code><span><span class="keyword">val</span> parse_variant_constructors : 
  <span><span><span class="xref-unresolved">Ppxlib</span>.constructor_declaration list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string * <span><a href="../Sarek_ast/index.html#type-type_expr">Sarek_ast.type_expr</a> option</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extract_type_from_pattern"><a href="#val-extract_type_from_pattern" class="anchor"></a><code><span><span class="keyword">val</span> extract_type_from_pattern : <span><span class="xref-unresolved">Ppxlib</span>.pattern <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sarek_ast/index.html#type-type_expr">Sarek_ast.type_expr</a> option</span></span></code></div><div class="spec-doc"><p>Extract type annotation from a Ppxlib pattern if present</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extract_name_from_pattern"><a href="#val-extract_name_from_pattern" class="anchor"></a><code><span><span class="keyword">val</span> extract_name_from_pattern : <span><span class="xref-unresolved">Ppxlib</span>.pattern <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Extract variable name from a Ppxlib pattern</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extract_param_from_pattern"><a href="#val-extract_param_from_pattern" class="anchor"></a><code><span><span class="keyword">val</span> extract_param_from_pattern : <span><span class="xref-unresolved">Ppxlib</span>.pattern <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-param">Sarek_ast.param</a></span></code></div><div class="spec-doc"><p>Extract parameter from pparam_desc</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_pattern"><a href="#val-parse_pattern" class="anchor"></a><code><span><span class="keyword">val</span> parse_pattern : <span><span class="xref-unresolved">Ppxlib</span>.pattern <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-pattern">Sarek_ast.pattern</a></span></code></div><div class="spec-doc"><p>Parse a Ppxlib pattern to Sarek pattern</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_binop"><a href="#val-parse_binop" class="anchor"></a><code><span><span class="keyword">val</span> parse_binop : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sarek_ast/index.html#type-binop">Sarek_ast.binop</a> option</span></span></code></div><div class="spec-doc"><p>Parse a binary operator</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_unop"><a href="#val-parse_unop" class="anchor"></a><code><span><span class="keyword">val</span> parse_unop : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sarek_ast/index.html#type-unop">Sarek_ast.unop</a> option</span></span></code></div><div class="spec-doc"><p>Parse a unary operator</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fun_body"><a href="#type-fun_body" class="anchor"></a><code><span><span class="keyword">type</span> fun_body</span><span> = </span></code><ol><li id="type-fun_body.Pfunction_body" class="def variant constructor anchored"><a href="#type-fun_body.Pfunction_body" class="anchor"></a><code><span>| </span><span><span class="constructor">Pfunction_body</span> <span class="keyword">of</span> <span class="xref-unresolved">Ppxlib</span>.expression</span></code></li><li id="type-fun_body.Pfunction_cases" class="def variant constructor anchored"><a href="#type-fun_body.Pfunction_cases" class="anchor"></a><code><span>| </span><span><span class="constructor">Pfunction_cases</span> <span class="keyword">of</span> <span><span class="xref-unresolved">Ppxlib</span>.case list</span> * <span class="xref-unresolved">Ppxlib</span>.Location.t * <span class="xref-unresolved">Ppxlib</span>.attributes</span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pattern_of_param"><a href="#val-pattern_of_param" class="anchor"></a><code><span><span class="keyword">val</span> pattern_of_param : <span><span class="xref-unresolved">Ppxlib</span>.Parsetree.function_param <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppxlib</span>.pattern</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-collect_fun_params"><a href="#val-collect_fun_params" class="anchor"></a><code><span><span class="keyword">val</span> collect_fun_params : 
  <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Ppxlib</span>.function_param list</span> * <span><a href="#type-fun_body">fun_body</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_let_shared"><a href="#val-parse_let_shared" class="anchor"></a><code><span><span class="keyword">val</span> parse_let_shared : 
  <span><span>(<span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span>
  <a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a></span></code></div><div class="spec-doc"><p>Parse let%shared: let%shared name : type <code>= size</code> in body Syntax: let%shared tile : float32 array in body let%shared tile : float32 array = 64 in body</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_superstep"><a href="#val-parse_superstep" class="anchor"></a><code><span><span class="keyword">val</span> parse_superstep : 
  <span><span>(<span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span>
  <a href="../Sarek_ast/index.html#type-expr_desc">Sarek_ast.expr_desc</a></span></code></div><div class="spec-doc"><p>Parse let%superstep: let%superstep <code>~divergent</code> name = body in cont Syntax: let%superstep load = tile.(i) &lt;- v in cont let%superstep ~divergent final = ... in cont</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_expression"><a href="#val-parse_expression" class="anchor"></a><code><span><span class="keyword">val</span> parse_expression : <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-expr">Sarek_ast.expr</a></span></code></div><div class="spec-doc"><p>Parse an expression</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_array_access"><a href="#val-is_array_access" class="anchor"></a><code><span><span class="keyword">val</span> is_array_access : <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if an expression is an array access</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_kernel_function"><a href="#val-parse_kernel_function" class="anchor"></a><code><span><span class="keyword">val</span> parse_kernel_function : <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-kernel">Sarek_ast.kernel</a></span></code></div><div class="spec-doc"><p>Parse a function expression into a kernel</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse_payload"><a href="#val-parse_payload" class="anchor"></a><code><span><span class="keyword">val</span> parse_payload : <span><span class="xref-unresolved">Ppxlib</span>.expression <span class="arrow">&#45;&gt;</span></span> <a href="../Sarek_ast/index.html#type-kernel">Sarek_ast.kernel</a></span></code></div><div class="spec-doc"><p>Parse from ppxlib payload</p></div></div></div></body></html>
