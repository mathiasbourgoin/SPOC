(tests
 (names
  test_types
  test_env
  test_typer
  test_lower
  test_parse
  test_core_primitives)
 ; Link sarek_stdlib to trigger auto-registration of intrinsics
 (libraries sarek_ppx_lib sarek_stdlib alcotest ppxlib)
 (preprocess
  (pps ppxlib.metaquot)))

; Fusion tests use sarek library directly (no ppx needed)

(test
 (name test_fusion)
 (libraries sarek))

; Interpreter tests use sarek library directly (no ppx needed)

(test
 (name test_interp)
 (libraries sarek))
