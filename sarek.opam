# This file is generated by dune, edit dune-project instead
opam-version: "2.0"
synopsis: "GPU kernel DSL for OCaml with runtime and CPU backends"
description: """
Sarek is a DSL for writing GPU kernels in OCaml syntax.
Includes the full runtime (Device, Vector, Memory management),
PPX preprocessor, standard library (Float32, Int32, etc.),
and CPU backends (native, interpreter) for development and testing.
Install sarek-cuda, sarek-opencl, or sarek-vulkan for GPU execution."""
maintainer: ["mathias.bourgoin@gmail.com"]
authors: ["Mathias Bourgoin"]
license: "Cecill-B"
homepage: "https://github.com/mathiasbourgoin/SPOC"
bug-reports: "https://github.com/mathiasbourgoin/SPOC/issues"
depends: [
  "ocaml" {>= "4.14.0"}
  "dune" {>= "2.9" & >= "2.9"}
  "spoc" {= version}
  "ppxlib" {>= "0.22.0"}
  "ctypes"
  "ctypes-foreign"
  "unix"
  "alcotest" {with-test}
  "bisect_ppx" {with-test}
  "odoc" {with-doc}
]
build: [
  ["dune" "subst"] {dev}
  [
    "dune"
    "build"
    "-p"
    name
    "-j"
    jobs
    "--promote-install-files=false"
    "@install"
    "@runtest" {with-test}
    "@doc" {with-doc}
  ]
  ["dune" "install" "-p" name "--create-install-files" name]
]
dev-repo: "git+https://github.com/mathiasbourgoin/SPOC.git"
